(function(t){function e(e){for(var a,o,s=e[0],c=e[1],u=e[2],d=0,v=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&v.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(v.length)v.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/CalcEventNumOfTimes/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},5312:function(t,e,n){"use strict";n("b476")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=this,a=e.$createElement,r=e._self._c||a;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"indigo darken-3",dark:"",height:"40"}},[r("div",{staticClass:"d-flex align-center"},[r("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Logo",contain:"",src:n("e323"),transition:"scale-transition",width:"40"}}),r("span",{staticClass:"title"},[e._v(" 周回数計算 ")])],1),r("v-spacer"),r("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{icon:""}},n),[r("v-icon",[e._v("mdi-information-outline")])],1)]}}])},[r("v-card",{style:e.themeColor()},[r("v-card-title",[e._v("データ")]),r("v-divider"),r("v-card-text",{style:e.themeColor(),attrs:{height:"200px"}},[e.isLoaded?r("span",[e._v(" イベント名："+e._s(e.EventData["Name"])+" "),r("br"),r("br"),e._v(" スタミナクエ "),r("br"),e._v(" 星2素材ドロップ率： "+e._s(e.EventData["stamina"]["rare1"]["itemNums"])+" + "+e._s(e.EventData["stamina"]["rare1"]["itemGroups"])+"B "),r("br"),e._v(" 星3素材ドロップ率： "+e._s(e.EventData["stamina"]["rare2"]["itemNums"])+" + "+e._s(e.EventData["stamina"]["rare2"]["itemGroups"])+"B "),r("br"),r("br"),e._v(" チケットクエ "),r("br"),e._v(" 星2素材ドロップ率： "+e._s(e.EventData["tickets"]["rare1"]["itemNums"])+" + "+e._s(e.EventData["tickets"]["rare1"]["itemGroups"])+"B "),r("br"),e._v(" 星3素材ドロップ率： "+e._s(e.EventData["tickets"]["rare2"]["itemNums"])+" + "+e._s(e.EventData["tickets"]["rare2"]["itemGroups"])+"B "),r("br"),r("br"),e._v(" チケットドロップ確率："+e._s(e.EventData["dropTicketsRate"])+" "),r("br"),r("br"),r("v-row",{staticClass:"pa-0 mb-n3 mt-n4"},[r("v-col",{attrs:{md:"12"}},[r("div",[r("v-menu",{attrs:{"offset-y":"","nudge-left":"250"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({attrs:{outlined:"",color:"light-blue darken-2"}},"v-btn",a,!1),n),[e._v(" イベント選択 ")])]}}],null,!1,2970231539)},[r("v-list",{staticClass:"overflow-y-auto",staticStyle:{right:"200px"},style:e.themeColor(),attrs:{dense:"","max-height":"calc(100vh - 24px)"}},e._l(e.db.Events.filter((function(t){return-1!==t.parts.findIndex((function(t){return"超強敵"===t}))})).reverse(),(function(t,n){return r("v-list-item",{key:n,on:{click:function(){e.opeateDB(e.returnThis).setEventsData(t.m_EventType)}}},[r("v-list-item-title",[e._v(e._s(t.m_EventName))])],1)})),1)],1)],1)])],1),r("br"),r("v-btn",{attrs:{outlined:"",color:"light-blue darken-2"},on:{click:e.resetDB}},[e._v(" データベース再読み込み ")])],1):r("span",[e._v("データ読み込み中です")])])],1)],1),r("v-btn",{attrs:{icon:""},on:{click:function(){e.isLoaded&&(t.$vuetify.theme.dark=!t.$vuetify.theme.dark,e.isSupportIndexedDB&&e.IndexedDB.setItem("darkmode",t.$vuetify.theme.dark))}}},[r("v-icon",[e._v("mdi-theme-light-dark")])],1)],1),r("v-main",{style:e.themeColor()},[e.isLoading?r("div",{staticClass:"text-center"},[r("v-progress-circular",{staticClass:"ma-3",attrs:{indeterminate:"",color:"primary"}}),r("br"),e._v("読み込み中… ")],1):e._e(),e.isDownloading?r("div",{staticClass:"text-center"},[r("v-progress-circular",{staticClass:"ma-3",attrs:{rotate:"-90",value:e.progressCircular,color:"primary"}}),r("br"),e._v(e._s(e.progressStr)+" ")],1):e._e(),e.isLoaded?r("div",[r("CalcPanel",{attrs:{EventData:e.EventData,settings:e.settings,themeColor:e.themeColor}})],1):e._e()])],1)},i=[],o=(n("99af"),n("7db0"),n("c740"),n("a9e3"),n("d3b7"),n("3ca3"),n("ddb0"),n("53ca")),s=n("b85c"),c=(n("96cf"),n("1da1")),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[[n("span",{staticClass:"text-h6"},[t._v("アイ テム所持数")]),n("v-row",{staticClass:"pa-0 mt-n1 mb-n9"},[n("v-col",{attrs:{cols:"6",sm:"6",md:"3"}},[n("v-text-field",{attrs:{type:"number",label:"星2素材",outlined:""},model:{value:t.inputData.ownedItem.rare1,callback:function(e){t.$set(t.inputData.ownedItem,"rare1",t._n(e))},expression:"inputData.ownedItem.rare1"}})],1),n("v-col",{attrs:{cols:"6",sm:"6",md:"3"}},[n("v-text-field",{attrs:{type:"number",label:"星3素材",outlined:""},model:{value:t.inputData.ownedItem.rare2,callback:function(e){t.$set(t.inputData.ownedItem,"rare2",t._n(e))},expression:"inputData.ownedItem.rare2"}})],1)],1),n("v-row",{staticClass:"pa-0 mb-n5"},[n("v-col",{attrs:{md:"6"}},[n("v-text-field",{attrs:{type:"number",label:"チケット",outlined:""},model:{value:t.inputData.ownedItem.ticket,callback:function(e){t.$set(t.inputData.ownedItem,"ticket",t._n(e))},expression:"inputData.ownedItem.ticket"}})],1)],1)],[n("span",{staticClass:"text-h6"},[t._v("特効数")]),n("v-row",{staticClass:"pa-0 ml-0",staticStyle:{"font-size":"14px"}},[t._v(" スタミナ ")]),n("v-row",{staticClass:"pa-0 mb-n9"},[n("v-col",{attrs:{cols:"6",sm:"6",md:"3"}},[n("v-text-field",{attrs:{type:"number",label:"星2素材",outlined:""},model:{value:t.inputData.bonus.stamina.rare1,callback:function(e){t.$set(t.inputData.bonus.stamina,"rare1",t._n(e))},expression:"inputData.bonus.stamina.rare1"}})],1),n("v-col",{attrs:{cols:"6",sm:"6",md:"3"}},[n("v-text-field",{attrs:{type:"number",label:"星3素材",outlined:""},model:{value:t.inputData.bonus.stamina.rare2,callback:function(e){t.$set(t.inputData.bonus.stamina,"rare2",t._n(e))},expression:"inputData.bonus.stamina.rare2"}})],1)],1),n("v-row",{staticClass:"pa-0 ml-0",staticStyle:{"font-size":"14px"}},[t._v(" チケット ")]),n("v-row",{staticClass:"pa-0 mb-n9"},[n("v-col",{attrs:{cols:"6",sm:"6",md:"3"}},[n("v-text-field",{attrs:{type:"number",label:"星2素材",outlined:""},model:{value:t.inputData.bonus.ticket.rare1,callback:function(e){t.$set(t.inputData.bonus.ticket,"rare1",t._n(e))},expression:"inputData.bonus.ticket.rare1"}})],1),n("v-col",{attrs:{cols:"6",sm:"6",md:"3"}},[n("v-text-field",{attrs:{type:"number",label:"星3素材",outlined:""},model:{value:t.inputData.bonus.ticket.rare2,callback:function(e){t.$set(t.inputData.bonus.ticket,"rare2",t._n(e))},expression:"inputData.bonus.ticket.rare2"}})],1)],1),n("v-row",{staticClass:"pa-0 mb-n7 mt-n4"},[n("v-col",{attrs:{md:"12"}},[n("v-btn",{attrs:{outlined:"",color:"light-blue darken-2"},on:{click:t.staminaBonusToTickets}},[t._v(" チケットの特効をスタミナと同じにする ")])],1)],1),n("v-row",{staticClass:"pa-0 my-n4"},[n("v-col",{attrs:{md:"6"}},[n("v-checkbox",{attrs:{label:"チケットクエは周回しない"},model:{value:t.inputData.noPlayTicketQuest,callback:function(e){t.$set(t.inputData,"noPlayTicketQuest",t._n(e))},expression:"inputData.noPlayTicketQuest"}})],1)],1)],[n("span",{staticClass:"text-h6 mb-n10"},[t._v("必要個数")]),n("v-row",{staticClass:"pa-0"},[n("v-col",{attrs:{cols:"6",sm:"6",md:"3"}},[n("v-text-field",{attrs:{type:"number",label:"星2素材",outlined:""},model:{value:t.inputData.Objective.rare1,callback:function(e){t.$set(t.inputData.Objective,"rare1",t._n(e))},expression:"inputData.Objective.rare1"}})],1),n("v-col",{attrs:{cols:"6",sm:"6",md:"3"}},[n("v-text-field",{attrs:{type:"number",label:"星3素材",outlined:""},model:{value:t.inputData.Objective.rare2,callback:function(e){t.$set(t.inputData.Objective,"rare2",t._n(e))},expression:"inputData.Objective.rare2"}})],1)],1)],[n("v-row",{staticClass:"text-h6 mt-n8"},[n("v-col",t._l([1,2],(function(e,a){return n("span",{key:a},[t._v(" 星"+t._s(e+1)+"素材回収完了までに "),n("br"),t._v(" 必要スタミナ: "+t._s(t.necessaryTimeOrStm(e,"stamina"))),n("br"),t._v(" 必要周回数(スタミナ): "+t._s(t.necessaryTimeOrStm(e,"TimeStamina"))+" "),n("br"),t._v(" 必要周回数(チケット): "+t._s(t.necessaryTimeOrStm(e,"TimeTickets"))+" "),n("br"),n("br")])})),0)],1)]],2)},l=[],d={name:"CalcPanel",data:function(){return{inputData:{noPlayTicketQuest:!1,ownedItem:{rare1:void 0,rare2:void 0,ticket:void 0},bonus:{ticket:{rare1:void 0,rare2:void 0},stamina:{rare1:void 0,rare2:void 0}},Objective:{rare1:void 0,rare2:void 0}}}},props:{EventData:{type:Object},themeColor:{type:Function},settings:{type:Object}},mounted:function(){},methods:{staminaBonusToTickets:function(){this.inputData.bonus.ticket.rare1=this.inputData.bonus.stamina.rare1,this.inputData.bonus.ticket.rare2=this.inputData.bonus.stamina.rare2},necessaryTimeOrStm:function(t,e){var n=this.inputData,a=this.EventData,r=this.NeedItem(t),i=a["stamina"]["rare".concat(t)]["itemNums"]+a["stamina"]["rare".concat(t)]["itemGroups"]*(n.bonus["stamina"]["rare".concat(t)]||0),o=a["tickets"]["rare".concat(t)]["itemNums"]+a["tickets"]["rare".concat(t)]["itemGroups"]*(n.bonus["ticket"]["rare".concat(t)]||0),s=function(){return n.noPlayTicketQuest?Math.ceil(r/i):r-(n.ownedItem.ticket||0)*o<=0?0:Math.ceil((r-(n.ownedItem.ticket||0)*o)/(i+a["dropTicketsRate"]*o))}();switch(e){case"stamina":return s<0?0:25*s;case"TimeStamina":return s<0?0:s;case"TimeTickets":return function(){return n.noPlayTicketQuest||s<0?"0 + 0":r-(n.ownedItem.ticket||0)*o<=0?"0 + ".concat(Math.ceil(r/o)):"".concat(c(s*a["dropTicketsRate"],2)," + ").concat(n.ownedItem.ticket||0)}()}function c(t,e){return Math.floor(t*(10^e))/(10^e)}},NeedItem:function(t){var e=(this.inputData.Objective["rare".concat(t)]||0)-(this.inputData.ownedItem["rare".concat(t)]||0);return e>=0?e:0}}},v=d,m=(n("5312"),n("2877")),p=n("6544"),f=n.n(p),b=n("8336"),h=n("ac7c"),g=n("62ad"),y=n("a523"),k=n("0fd9"),D=n("8654"),_=Object(m["a"])(v,u,l,!1,null,null,null),w=_.exports;f()(_,{VBtn:b["a"],VCheckbox:h["a"],VCol:g["a"],VContainer:y["a"],VRow:k["a"],VTextField:D["a"]});var x=function(){var t=n("9c58").indexeddb;return new t}(),T={name:"App",components:{CalcPanel:w},data:function(){return{test:"black",db:{},settings:{darkmode:!0},EventData:{dropTicketsRate:-1,Name:void 0},isSupportIndexedDB:!0,isLoading:!0,isDownloading:!1,downloadStatus:{downloaded:0,max:0},isLoaded:!1,dbNameList:["Events","QuestList"],IndexedDB:x,data_maybeOld_err:!1,questTypeList:["stamina","tickets"],itemTypeList:["rare1","rare2"],dropChanceTypeList:["itemNums","itemGroups"]}},methods:{resetDB:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isSupportIndexedDB){e.next=7;break}n=[],a=Object(s["a"])(t.dbNameList);try{for(a.s();!(r=a.n()).done;)i=r.value,n.push(x.removeItem(i))}catch(o){a.e(o)}finally{a.f()}return e.next=6,Promise.all(n);case 6:t.$window.location.reload();case 7:case"end":return e.stop()}}),e)})))()},themeColor:function(){return this.$vuetify.theme.dark?{background:"#222222",color:"#EEEEEE!important","border-color":"#EEEEEE"}:{background:"",color:""}},opeateDB:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return{getLatestEvents:function(t){for(var e=t.length-1;e>=0;e--)if(-1!==this.whereQuest(t[e],"極"))return t[e]},whereQuest:function(t,e){return t["parts"].findIndex((function(t){return t===e}))},downloadDB:function(){var e=this;return new Promise((function(n){t.isLoading=!1,t.isDownloading=!0,t.downloadStatus.max=t.dbNameList.length,t.downloadStatus.downloaded=0,Promise.all(function(){for(var n=[],a=0;a<t.dbNameList.length;a++)n.push(e.getXHRresponce("https://database.kirafan.cn/database/".concat(t.dbNameList[a],".json?").concat(Number(new Date)),(function(){t.downloadStatus.downloaded++})));return n}()).then((function(e){for(var a=0;a<e.length;a++)t.db[t.dbNameList[a]]=e[a],t.isSupportIndexedDB&&x.setItem(t.dbNameList[a],e[a]);n()})).catch((function(){alert("データベースのダウンロードエラー！ページを再読み込みしてもこのメッセージが出る場合は@y52enに問い合わせてください")}))}))},getXHRresponce:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise((function(t){var n=e[0],a=e[1]||void 0,r=e[2]||"json",i=new XMLHttpRequest;i.onreadystatechange=function(){4===this.readyState&&200===this.status&&this.response&&(a&&a(n),t(this.response))},i.open("GET",n,!0),i.responseType=r,i.send(null)}))},setEventsData:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;t.isLoading=!1,t.isDownloading=!1,e=-1===n?this.getLatestEvents(t.db.Events):t.db.Events.find((function(t){return t.m_EventType===n})),t.EventData["Name"]=e["m_EventName"];var a=e["m_EventType"],r=this.whereQuest(e,"極");new Date(e["endTimes"][r])<new Date&&(t.data_maybeOld_err=!0);for(var i=function(){var e=t.db.QuestList.findIndex((function(t){return String(t["questID"])==="3".concat(a,"97")}));return-1!==e?e:t.db.QuestList.findIndex((function(t){return String(t["questID"])==="3".concat(a,"98")}))}(),s=function(){for(var e=function(e){var n=t.db.QuestList.findIndex((function(t){return String(t["questID"])==="3".concat(a).concat(e)}));if(-1!==n)return{v:n}},n=40;n>=0;n--){var r=e(n);if("object"===Object(o["a"])(r))return r.v}return alert("エラー！\n@y52enに'スタミナクエストのIDパースエラーだと伝えてください"),-1}(),c=function(e){t.EventData[t.questTypeList[e]]={};for(var n=function(n){t.EventData[t.questTypeList[e]][t.itemTypeList[n]]={};for(var r=function(r){t.EventData[t.questTypeList[e]][t.itemTypeList[n]][t.dropChanceTypeList[r]]={};var o=function(){return"stamina"===t.questTypeList[e]?s:i}(),c=t.db.QuestList[o]["itemIDs"],u=function(){return"rare1"===t.itemTypeList[n]?c.findIndex((function(t){return String(t)==="".concat(a,"00")})):c.findIndex((function(t){return String(t)==="".concat(a,"01")}))}();if(t.EventData[t.questTypeList[e]][t.itemTypeList[n]][t.dropChanceTypeList[r]]=function(){return t.db.QuestList[o][t.dropChanceTypeList[r]][u]}(),0===e&&0===n&&0===r){var l=c.findIndex((function(t){return String(t)==="".concat(a,"03")}));t.EventData["dropTicketsRate"]=t.db.QuestList[o]["itemNums"][l]}},o=0;o<t.dropChanceTypeList.length;o++)r(o)},r=0;r<t.itemTypeList.length;r++)n(r)},u=0;u<t.questTypeList.length;u++)c(u);t.isLoaded=!0}}}},computed:{progressCircular:function(){var t=this.downloadStatus;return t.downloaded/t.max*100},progressStr:function(){var t=this.downloadStatus;return"".concat(t.downloaded," / ").concat(t.max)},returnThis:function(){return this}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.init().catch((function(t){console.log(t),o.isSupportIndexedDB=!1}));case 2:if(!this.isSupportIndexedDB){t.next=37;break}return x.setItem("db_version",1),t.next=6,x.getItem("darkmode");case 6:return e=t.sent,"boolean"===typeof e?this.$vuetify.theme.dark=e:x.setItem("darkmode",!1),t.next=10,x.getItem(this.dbNameList[0]);case 10:if(n=t.sent,!n){t.next=32;break}if(a=this.opeateDB(this).getLatestEvents(n),r=this.opeateDB(this).whereQuest(a,"極"),!(new Date(a["endTimes"][r])>=new Date)){t.next=27;break}this.db["Events"]=n,i=1;case 17:if(!(i<this.dbNameList.length)){t.next=24;break}return t.next=20,x.getItem(this.dbNameList[i]);case 20:this.db[this.dbNameList[i]]=t.sent;case 21:i++,t.next=17;break;case 24:this.opeateDB(this).setEventsData(),t.next=30;break;case 27:return t.next=29,this.opeateDB(this).downloadDB();case 29:this.opeateDB(this).setEventsData();case 30:t.next=35;break;case 32:return t.next=34,this.opeateDB(this).downloadDB();case 34:this.opeateDB(this).setEventsData();case 35:t.next=40;break;case 37:return t.next=39,this.opeateDB(this).downloadDB();case 39:this.opeateDB(this).setEventsData();case 40:this.isLoaded=!0;case 41:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},E=T,I=n("7496"),C=n("40dc"),L=n("b0af"),S=n("99d9"),O=n("169a"),j=n("ce7e"),N=n("132d"),B=n("adda"),P=n("8860"),V=n("da13"),$=n("5d23"),A=n("f6c4"),Q=n("e449"),R=n("490a"),q=n("2fa4"),M=Object(m["a"])(E,r,i,!1,null,null,null),G=M.exports;f()(M,{VApp:I["a"],VAppBar:C["a"],VBtn:b["a"],VCard:L["a"],VCardText:S["a"],VCardTitle:S["b"],VCol:g["a"],VDialog:O["a"],VDivider:j["a"],VIcon:N["a"],VImg:B["a"],VList:P["a"],VListItem:V["a"],VListItemTitle:$["a"],VMain:A["a"],VMenu:Q["a"],VProgressCircular:R["a"],VRow:k["a"],VSpacer:q["a"]});var F=n("f309");a["a"].use(F["a"]);var H=new F["a"]({modules:{},theme:{dark:!1,themes:{light:{background:"#fcfcfc"},dark:{background:"#303030"}}}}),X=n("9483");Object(X["a"])("".concat("/CalcEventNumOfTimes/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),a["a"].config.productionTip=!1,a["a"].prototype.$window=window,new a["a"]({vuetify:H,render:function(t){return t(G)}}).$mount("#app")},"9c58":function(t,e,n){"use strict";n.r(e),n.d(e,"indexeddb",(function(){return o}));n("fb6a"),n("d3b7");var a=n("ade3"),r=n("d4ec"),i=n("bee2"),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"indexedDB",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"index";Object(r["a"])(this,t),this.storageName=e,this.indexName=n,this.keyPath="KeyName",this.__db}return Object(i["a"])(t,[{key:"init",value:function(){var t=this;return new Promise((function(e,n){var a=indexedDB.open(t.storageName);a.onblocked=function(t){return n(["onblocked",t])},a.onerror=function(t){return n(["onerror",t])},a.onupgradeneeded=function(e){return t.__createObjStore(e)},a.onsuccess=function(n){t.__db=n.target.result,e(["onsuccess",n])}}))}},{key:"setItem",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new Promise((function(e,r){var i;if(Array.isArray(n[0]))i=n[0];else{var o=n[0],s=n[1];i=[[o,s]]}for(var c=i.length,u=t.__getObjStore("readwrite"),l=0;l<i.length;l++){var d,v=i[l][0],m=i[l][1],p=u.put((d={},Object(a["a"])(d,t.keyPath,v),Object(a["a"])(d,"value",m),d));p.onsuccess=function(){c--,0===c&&e()},p.onerror=function(t){return r(["onerror",t])}}}))}},{key:"getItem",value:function(){for(var t=this,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return new Promise((function(e){var a,r=function(){return Array.isArray(n[0])};if(r())a=n[0];else{var i=n[0];a=[i]}for(var o=t.__getObjStore("readonly"),s=a.length,c=new Array(a.length),u=function(t){var n=o.get(a[t]);n.onsuccess=function(){n.result?c[t]=n.result.value:c[t]=void 0,s--,0===s&&(r()?e(c):e(c[0]))}},l=0;l<a.length;l++)u(l)}))}},{key:"removeItem",value:function(t){var e=this;return new Promise((function(n,a){var r=e.__getObjStore("readwrite").delete(t);r.onsuccess=function(t){return n(["onsuccess",t])},r.onerror=function(t){return a(["onerror",t])}}))}},{key:"clear",value:function(){var t=this;return new Promise((function(e,n){t.__db.close();var a=indexedDB.deleteDatabase(t.storageName);a.onsuccess=function(t){return e(["onsuccess",t])},a.onerror=function(t){return n(["onerror",t])}}))}},{key:"getItemForwardMatch",value:function(t){var e=this;return new Promise((function(n,a){var r;"string"===typeof t?r=t.slice(0,-1)+String.fromCharCode(t.slice(-1).charCodeAt()+1):a('The only "type" that can be inputted is "String".');var i=IDBKeyRange.bound(t,r,!1,!0),o=e.__getObjStore("readonly"),s=[],c=o.openCursor(i);c.onsuccess=function(t){var e=t.target.result;e?(s.push(e.value),e.continue()):n(s)},c.onerror=function(t){return a(t)}}))}},{key:"getAllItem",value:function(){var t=this;return new Promise((function(e,n){var a=t.__getObjStore("readonly"),r=a.getAll();r.onsuccess=function(t){return e(t.target.result)},r.onerror=function(t){return n(["onerror"],t)}}))}},{key:"__getObjStore",value:function(t){return this.__db.transaction([this.indexName],t).objectStore(this.indexName)}},{key:"__createObjStore",value:function(t){t.target.result.createObjectStore(this.indexName,{keyPath:this.keyPath})}}]),t}()},b476:function(t,e,n){},e323:function(t,e,n){t.exports=n.p+"img/itemicon_108203.dfca7d72.png"}});
//# sourceMappingURL=app.f522bf3f.js.map